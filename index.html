<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nháº­n Diá»‡n Vá»£ Yeuu ğŸ’–</title>

  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body{
      margin:0;
      font-family:Quicksand;
      background:#ffdfe6;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      color:#b3295a
    }
    .card{
      background:#ffe6ec;
      border-radius:18px;
      padding:24px;
      max-width:420px;
      width:100%;
      text-align:center;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
      transition:opacity .8s ease
    }
    h1{color:#ff6b9a}
    video{
      width:100%;
      border-radius:12px;
      margin-top:12px;
      transform: scaleX(-1);
    }
    button{
      margin-top:14px;
      padding:10px 18px;
      border-radius:10px;
      border:none;
      background:#ff6b9a;
      color:#fff;
      font-weight:700;
      font-size:16px;
      cursor:pointer
    }
    .status{
      margin-top:10px;
      font-size:14px;
      opacity:.85
    }
  </style>
</head>

<body>

<div class="card" id="card">
  <h1>ğŸ“· XÃ¡c Nháº­n Vá»£ Yeuu</h1>
  <p>Bá»©c ThÆ° DÃ nh Cho EmğŸ’–</p>
  <video id="video" autoplay muted playsinline></video>
  <div class="status" id="status">KhuÃ´n Máº·t Xinh Äáº¹p ÄÃ¢u Roii</div>
  <button id="start">Báº¯t Ä‘áº§u nháº­n diá»‡n</button>
</div>

<!-- face-api -->
<script src="https://unpkg.com/face-api.js@0.22.2/dist/face-api.min.js"></script>

<script>
const video = document.getElementById('video');
const btn = document.getElementById('start');
const card = document.getElementById('card');
const statusText = document.getElementById('status');

const AUTH_IMAGE = '1.jpg';
let faceMatcher;
let bgMusic;

// báº­t camera
async function startCamera(){
  const stream = await navigator.mediaDevices.getUserMedia({ video:true });
  video.srcObject = stream;
  await new Promise(resolve=>{
    video.onloadedmetadata = ()=>{
      video.play();
      resolve();
    }
  });
}

// load model
async function loadModels(){
  statusText.innerText = 'â³ Äang Ngáº¯m NhÃ¬n Nhan Sáº¯cğŸ¥º...';
  const MODEL_URL =
    'https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights';

  await faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);
  await faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL);
  await faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL);
}

// load áº£nh Ä‘Æ°á»£c phÃ©p
async function loadAuthorizedFace(){
  statusText.innerText = 'ğŸ“¸ Äang Say MÃª Nhan Sáº¯c NÃ yğŸ¥º...';

  const img = await faceapi.fetchImage(AUTH_IMAGE);
  const detection = await faceapi
    .detectSingleFace(
      img,
      new faceapi.TinyFaceDetectorOptions({
        inputSize:224,
        scoreThreshold:0.5
      })
    )
    .withFaceLandmarks()
    .withFaceDescriptor();

  if(!detection){
    alert('âŒ KhÃ´ng nháº­n diá»‡n Ä‘Æ°á»£c khuÃ´n máº·t trong áº£nh 1.jpg');
    throw new Error('No face');
  }

  const labeled = new faceapi.LabeledFaceDescriptors(
    'my-love',
    [detection.descriptor]
  );

  faceMatcher = new faceapi.FaceMatcher(labeled, 0.6);
}

// nÃºt báº¯t Ä‘áº§u
btn.onclick = async ()=>{
  btn.disabled = true;
  btn.innerText = 'Äang nháº­n diá»‡n...';

  try{
    await loadModels();
    await loadAuthorizedFace();
    await startCamera();

    statusText.innerText = 'Báº¯t Äáº§u XÃ¡c Nháº­n...';

    const interval = setInterval(async ()=>{
      const result = await faceapi
        .detectSingleFace(
          video,
          new faceapi.TinyFaceDetectorOptions({
            inputSize:224,
            scoreThreshold:0.5
          })
        )
        .withFaceLandmarks()
        .withFaceDescriptor();

      if(result && faceMatcher){
        const match = faceMatcher.findBestMatch(result.descriptor);
        if(match.label === 'my-love'){
          clearInterval(interval);
          unlock();
        }
      }
    },700);

  }catch(e){
    alert('CÃ³ lá»—i xáº£y ra, má»Ÿ Console Ä‘á»ƒ xem');
    console.error(e);
  }
};

// má»Ÿ khÃ³a + phÃ¡t nháº¡c
function unlock(){
  statusText.innerText = 'ğŸ’– ÄÃ£ nháº­n diá»‡n thÃ nh cÃ´ng';

  if(!bgMusic){
    bgMusic = new Audio('BTS Jungkook My You Lyrics (2022BTSFESTA) - Lemonade (youtube).mp3'); // ğŸ‘ˆ Ä‘á»•i nháº¡c táº¡i Ä‘Ã¢y
    bgMusic.loop = true;
    bgMusic.volume = 0.6;
    bgMusic.play();
  }

  card.style.opacity = 0;
  setTimeout(()=>{
    card.innerHTML = `
  <h1>ğŸ’Œ Bá»©c ThÆ° DÃ nh RiÃªng Cho Em ğŸ’–</h1>

  <p style="font-size:18px; line-height:1.7">
    Hello em bÃ© cá»§a anh,<br><br>

    Khi em bÃ© Ä‘á»c xong bá»©c thÆ° nÃ y  
    thÃ¬ cho anh má»™t cÃ¢u tráº£ lá»i nha ğŸ¥ºâ¤ï¸<br><br>

    Anh Ä‘Ã£ suy nghÄ© ráº¥t nhiá»u trÆ°á»›c khi nÃ³i nhá»¯ng lá»i nÃ y.  
    KhÃ´ng pháº£i vÃ¬ anh do dá»± vá» cáº£m xÃºc cá»§a mÃ¬nh,  
    mÃ  vÃ¬ anh khÃ´ng biáº¿t pháº£i diá»…n táº£ nÃ³ nhÆ° tháº¿ nÃ o cho Ä‘á»§ Ä‘áº§y,  
    cho tá»­ táº¿ vÃ  chÃ¢n thÃ nh nháº¥t,  
    theo cÃ¡ch xá»©ng Ä‘Ã¡ng nháº¥t vá»›i em.<br><br>

    Trá»i Æ¡iâ€¦ há»“i há»™p quÃ¡ ğŸ˜–ğŸ’–<br><br>

    Anh váº«n nhá»› ráº¥t rÃµ ngÃ y mÃ  chÃºng ta biáº¿t Ä‘áº¿n nhau.  
    Chá»‰ lÃ  má»™t buá»•i anh live stream muá»™n Ä‘áº¿n 2 giá» sÃ¡ng  
    vÃ  vÃ´ tÃ¬nh em bÆ°á»›c vÃ o.  
    Hmmâ€¦ lÃºc Ä‘Ã³ cháº³ng cÃ³ gÃ¬ quÃ¡ Ä‘áº·c biá»‡t cáº£.<br><br>

    NhÆ°ng rá»“i sau má»™t thá»i gian khÃ¡ lÃ¢u,  
    khi chÃºng ta chÆ¡i vá»›i nhau, tÃ¢m sá»± vá»›i nhau  
    vÃ  hiá»ƒu ráº¥t nhiá»u cÃ¢u chuyá»‡n cá»§a nhau,  
    anh khÃ´ng biáº¿t tá»« khi nÃ o  
    anh láº¡i Ä‘á»ƒ Ã½ Ä‘áº¿n em bÃ© nhiá»u hÆ¡n.<br><br>

    CÃ³ láº½ anh bá»‹ thu hÃºt bá»Ÿi em ğŸ’–<br>  
    má»™t cÃ´ gÃ¡i Ä‘Ã£ chá»‹u ráº¥t nhiá»u tá»•n thÆ°Æ¡ng vÃ  tá»§i thÃ¢n,  
    tá»« nhá»¯ng váº¿t thÆ°Æ¡ng trong tÃ¬nh yÃªu  
    cho Ä‘áº¿n cáº£ tÃ¬nh thÆ°Æ¡ng gia Ä‘Ã¬nh.<br><br>

    VÃ  tá»« lÃºc Ä‘Ã³,  
    anh má»›i quyáº¿t Ä‘á»‹nh Ä‘áº¿n Ä‘á»ƒ chá»¯a lÃ nh cho em,  
    rá»“i yÃªu em lÃºc nÃ o khÃ´ng hayâ€¦<br><br>

    Anh chÆ°a tá»«ng quÃªn nhá»¯ng lÃºc anh yáº¿u lÃ²ng nháº¥t,  
    nhá»¯ng láº§n anh khÃ³c,  
    nhá»¯ng lÃºc anh tháº­t sá»± khÃ´ng cÃ²n Ä‘á»§ máº¡nh máº½ Ä‘á»ƒ bÆ°á»›c tiáº¿p,  
    tháº­m chÃ­ lÃ  buÃ´ng xuÃ´iâ€¦<br><br>

    Em khÃ´ng há»i quÃ¡ nhiá»u,  
    khÃ´ng phÃ¡n xÃ©t,  
    chá»‰ láº·ng láº½ láº¯ng nghe anh nÃ³i háº¿t  
    nhá»¯ng uáº¥t á»©c, tá»§i thÃ¢n vÃ  tiÃªu cá»±c mÃ  anh pháº£i chá»‹u.<br><br>

    Em dá»— dÃ nh anh báº±ng sá»± dá»‹u dÃ ng  
    vÃ  chÃ¢n thÃ nh nháº¥t.  
    NÃ³ khÃ´ng hoa má»¹,  
    nhÆ°ng Ä‘á»§ Ä‘á»ƒ anh Ä‘á»©ng vá»¯ng láº¡i.<br><br>

    Rá»“i em khÃ³câ€¦  
    LÃºc Ä‘Ã³ anh khÃ´ng hiá»ƒu vÃ¬ sao em láº¡i khÃ³c theo anh ná»¯a.  
    VÃ  em nÃ³i:  
    <i>â€œTáº¡i em xÃ³t cho anhâ€¦â€</i><br><br>

    ChÃ­nh khoáº£nh kháº¯c Ä‘Ã³,  
    anh nháº­n ra cÃ³ Ä‘iá»u gÃ¬ Ä‘Ã³  
    Ä‘ang dáº§n hÃ¬nh thÃ nh giá»¯a chÃºng ta.<br><br>

    Sau Ä‘Ã³ anh lÃ  ngÆ°á»i dá»— em.  
    KhÃ´ng pháº£i vÃ¬ nghÄ©a vá»¥,  
    mÃ  vÃ¬ anh khÃ´ng muá»‘n tháº¥y em buá»“n,  
    vÃ  anh muá»‘n em cÆ°á»i tháº­t nhiá»u.<br><br>

    Váº­y nÃªnâ€¦  
    máº¯t Ä‘áº¹p thÃ¬ khÃ´ng Ä‘Æ°á»£c khÃ³c,  
    mÃ´i xinh thÃ¬ khÃ´ng Ä‘Æ°á»£c máº¿u nhÃ© ğŸ’—<br><br>

    Anh muá»‘n nÃ³i vá»›i em ráº±ng,  
    em khÃ´ng chá»‰ lÃ  ngÆ°á»i luÃ´n á»Ÿ bÃªn anh,  
    mÃ  anh cÅ©ng muá»‘n trá»Ÿ thÃ nh ngÆ°á»i á»Ÿ bÃªn em,  
    theo cÃ¡ch nghiÃªm tÃºc vÃ  chÃ¢n thÃ nh nháº¥t.<br><br>

    Tháº­t ra anh muá»‘n nÃ³i vá»›i em Ä‘iá»u nÃ y tá»« lÃ¢u rá»“i,  
    nhÆ°ng vÃ¬ má»™t vÃ i chuyá»‡n cá»§a chÃºng ta  
    nÃªn anh Ä‘Ã£ trÃ¬ hoÃ£n Ä‘áº¿n hÃ´m nay.<br><br>

    Xin lá»—i em bÃ© vÃ¬ Ä‘Ã£ Ä‘á»ƒ em Ä‘á»£i lÃ¢u nhÃ©â€¦ ğŸ¥º<br><br>

    Bá»©c ThÆ° NÃ y,  
    anh chá»‰ muá»‘n em biáº¿t ráº±ng  
    tÃ¬nh cáº£m anh dÃ nh cho em khÃ´ng pháº£i lÃ  thoÃ¡ng qua,  
    khÃ´ng pháº£i vÃ¬ anh cÃ´ Ä‘Æ¡n
    mÃ  lÃ  vÃ¬ chÃ­nh em
    anh biáº¿t lÃ  anh váº«n cÃ²n vá»¥ng vá» trong tÃ¬nh yÃªu láº¯m
    nÃªn náº¿u nhÆ° anh lÃ m sai Ä‘iá»u gÃ¬
    mong embe lÆ°á»£ng thá»© cho tháº§n thiáº¿p...
    chá»© embe Ä‘Æ°ng im láº·ng vá»›i anh aaa
    anh so lamm  
    vÃ¬ anh muá»‘n Ä‘i xa hÆ¡n vá»›i em maaa.<br><br>

    Anh chá»‰ muÃ´n ráº±ng 
    Anh thÆ°Æ¡ng embe cá»§a anh nhiá»u láº¯m
    TÃ¬nh cáº£m cá»§a anh lÃ  tháº­t.  
    Anh trÃ¢n trá»ng em  
    vÃ  trÃ¢n trá»ng táº¥t cáº£ nhá»¯ng gÃ¬ chÃºng ta cÃ³.<br><br>

    Váº­y nÃªnâ€¦  
    cho phÃ©p anh bÆ°á»›c vÃ o cuá»™c sá»‘ng cá»§a em  
    vá»›i má»™t tÆ° cÃ¡ch nghiÃªm tÃºc hÆ¡n nhÃ©.  
    Anh muá»‘n quan tÃ¢m em,  
    muá»‘n lÃ  ngÆ°á»i á»Ÿ cáº¡nh em  
    nhá»¯ng lÃºc em má»‡t má»i vÃ  yáº¿u lÃ²ng nháº¥t.<br><br>

    <strong>Anh yÃªu vá»£ â¤ï¸</strong>
  </p>
`;
    card.style.opacity = 1;
  },800);
}
</script>

</body>

</html>


